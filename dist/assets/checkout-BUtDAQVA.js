import{p as l}from"./searchController-D4HSFbdS.js";import{g as u}from"./addToCart-CzPefbFE.js";import{g as p,u as y}from"./getCartLocalStorage-Chpn1a7G.js";const i=document.querySelector(".checkout-form");i.addEventListener("submit",function(r){r.preventDefault(),document.querySelectorAll(".error-msg").forEach(o=>o.remove());let e=!0;[{id:"f_name",name:"First Name"},{id:"l_name",name:"Last Name"},{id:"email",name:"Email",type:"email"},{id:"country",name:"Country"},{id:"street-address",name:"Street Address"},{id:"town",name:"Town / City"},{id:"postcode",name:"Postcode / ZIP"},{id:"phone",name:"Phone",type:"phone"},{id:"card",name:"Card type"},{id:"c_no",name:"Card Number"},{id:"exp_yr",name:"Expiration Year"},{id:"exp_mo",name:"Expiration Month"},{id:"cvv",name:"cvv"}].forEach(o=>{console.log(o);const a=document.getElementById(o.id),n=a.value.trim();n||(s(a,`${o.name} is required`),e=!1),o.type==="email"&&n&&!/^\S+@\S+\.\S+$/.test(n)&&(s(a,"Enter a valid email address"),e=!1),o.type==="phone"&&n&&!/^\d{10}$/.test(n)&&(s(a,"Enter a valid 10-digit phone number"),e=!1)});const c=document.getElementById("terms");c.checked||(s(c,"You must agree to the terms and conditions"),e=!1),e&&(i.reset(),localStorage.clear(),window.location.href="thankyou.html")});function s(r,e){const t=document.createElement("div");t.className="error-msg",t.style.color="red",t.style.fontSize="14px",t.innerText=e,r.type==="checkbox"?r.closest(".custom-checkbox").appendChild(t):r.parentElement.appendChild(t)}const h=u(),f=l.filter(r=>h.some(e=>e.id===r.id)),S=document.querySelector(".order-summary-container"),g=document.querySelector(".order-summary-template"),q=()=>{f.forEach(r=>{const{id:e,productName:t,price:c,productImage:o}=r,a=p(e,c),n=a.qty,d=a.basePrice*n;a.selectedSize;const m=g.content.cloneNode(!0);m.querySelector(".summary-prod").textContent=t,m.querySelector(".summary-qty").textContent=`X ${n}`,m.querySelector(".summary-img img").src=o,m.querySelector(".summary-img img").alt=t,m.querySelector(".summary-price").textContent=d,m.querySelector(".summary-prod").setAttribute("href",`product-details.html?id=${e}`),m.querySelector(".summary-img").setAttribute("href",`product-details.html?id=${e}`),S.appendChild(m)}),y({subTotalEl:document.querySelector("#sub-total"),shippingEl:document.querySelector(".summary-shipping"),grandTotalEl:document.querySelector(".total-amount")})};q();
